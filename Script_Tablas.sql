
#######################################
# CREACIÓN DE LA TABLA CLIENTE       #
#######################################

CREATE TABLE CLIENTE(
ID_CLIENTE NUMBER(15) CONSTRAINT PK_ID_CLIENTE PRIMARY KEY, -- SE DETERMINA COMO UNA PRIMARY KEY
CEDULA VARCHAR2(20),
NOMBRE VARCHAR2(20),
APELLIDO1 VARCHAR2(20),
APELLIDO2 VARCHAR2(20),
PROVINCIA VARCHAR2(20),
CANTON VARCHAR2(20),
DISTRITO VARCHAR2(20),
NUMERO_TELEFONO VARCHAR2(20)
)

--- SE DETERMINA UN UNIQUE CONSTRAINT.
ALTER TABLE CLIENTE
ADD CONSTRAINT UK_CEDULA UNIQUE (CEDULA); 


---- INSERTAN DATOS EN LA TABLA CLIENTE
INSERT INTO CLIENTE (ID_CLIENTE,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,PROVINCIA,CANTON,DISTRITO,NUMERO_TELEFONO) 
VALUES (1,'405670032', 'JUAN', 'PEREZ','CHAVES','ALAJUELA','SAN CARLOS','GAMONALES','65987309');

INSERT INTO CLIENTE (ID_CLIENTE,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,PROVINCIA,CANTON,DISTRITO,NUMERO_TELEFONO) 
VALUES (2, '206780154', 'MARÍA', 'GUTIÉRREZ', 'RODRÍGUEZ', 'ALAJUELA', 'SAN CARLOS', 'LA FORTUNA', '75643109');

INSERT INTO CLIENTE (ID_CLIENTE,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,PROVINCIA,CANTON,DISTRITO,NUMERO_TELEFONO) 
VALUES (3, '302550267', 'CARLOS', 'MORA', 'FERNÁNDEZ', 'ALAJUELA', 'SAN CARLOS', 'AGUAS ZARCAS', '84567321');

INSERT INTO CLIENTE (ID_CLIENTE,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,PROVINCIA,CANTON,DISTRITO,NUMERO_TELEFONO) 
VALUES (4, '107890356', 'ANA', 'ALFARO', 'CASTRO', 'ALAJUELA', 'SAN CARLOS', 'PITAL', '93216587');

INSERT INTO CLIENTE (ID_CLIENTE,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,PROVINCIA,CANTON,DISTRITO,NUMERO_TELEFONO) 
VALUES (5, '501230489', 'LUIS', 'ROJAS', 'MORALES', 'CARTAGO', 'CARTAGO', 'CARTAGO', '70659214');

INSERT INTO CLIENTE (ID_CLIENTE,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,PROVINCIA,CANTON,DISTRITO,NUMERO_TELEFONO) 
VALUES (6, '608940582', 'SOFÍA', 'CHAVARRÍA', 'SOLÍS', 'GUANACASTE', 'LIBERIA', 'CAÑAS DULCES', '51038794');

INSERT INTO CLIENTE (ID_CLIENTE,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,PROVINCIA,CANTON,DISTRITO,NUMERO_TELEFONO) 
VALUES (7, '701260673', 'DANIEL', 'ARAYA', 'ARCE', 'ALAJUELA', 'SAN CARLOS', 'FLORENCIA', '64983210');

INSERT INTO CLIENTE (ID_CLIENTE,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,PROVINCIA,CANTON,DISTRITO,NUMERO_TELEFONO) 
VALUES (8, '809780764', 'PAULA', 'MENDEZ', 'FONSECA', 'ALAJUELA', 'LIMÓN', 'LIMÓN', '79846513');

INSERT INTO CLIENTE (ID_CLIENTE,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,PROVINCIA,CANTON,DISTRITO,NUMERO_TELEFONO) 
VALUES (9, '901230875', 'JORGE', 'SANDOVAL', 'RAMÍREZ', 'SAN JOSE', 'DESAMPARADOS', 'PATARRA', '74218965');

INSERT INTO CLIENTE (ID_CLIENTE,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,PROVINCIA,CANTON,DISTRITO,NUMERO_TELEFONO) 
VALUES (10, '100450986', 'ANDREA', 'MORALES', 'SOLANO', 'ALAJUELA', 'SAN CARLOS', 'FLORENCIA', '62301478');

--SE SELECCIONA LA TABLA CLIENTE.
SELECT * FROM CLIENTE

 #######################################
 # CREACIÓN DE LA TABLA empleado       #
 #######################################

CREATE TABLE EMPLEADO(
ID_EMPLEADO NUMBER(15) CONSTRAINT PK_ID_EMPLEADO PRIMARY KEY, -- SE DETERMINA COMO PRIMARY KEY
CEDULA VARCHAR2(20),
NOMBRE VARCHAR2 (20),
APELLIDO1 VARCHAR2(20),
APELLIDO2 VARCHAR2(20),
GENERO CHAR,
PUESTO VARCHAR2(20),
NUMERO_TELEFONO VARCHAR2(20),
FECHA_NACIMIENTO DATE,
SALARIO NUMBER(15,2),
JORNADA VARCHAR2(20)
)


---- ESTABLECE UNA RESTRICCIÓN EN GENERO, SOLO SE PERMITE DOS OPCIONES DE CHAR(M / F).
ALTER TABLE EMPLEADO ADD CONSTRAINT CK_GENERO
CHECK(GENERO IN ('M','F'))

---- ESTABLECE UNA RESTRICCIÓN EN JORNADA, SOLO EXISTE DOS( TIEMPO COMPLETO / MEDIO TIEMPO).
ALTER TABLE EMPLEADO ADD CONSTRAINT CK_JORNADA
CHECK(JORNADA IN ('TIEMPO COMPLETO','MEDIO TIEMPO'))

---- ESTABLECE LA CEDULA COMO UN DATO ÚNICO, NO REPETIBLE. 
ALTER TABLE EMPLEADO
ADD CONSTRAINT UK_CEDULA_EMPLEADO UNIQUE (CEDULA)


---- INSERTANDO DATOS EN LA TABLA EMPLEADO.
INSERT INTO EMPLEADO(ID_EMPLEADO,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,GENERO,PUESTO,NUMERO_TELEFONO,FECHA_NACIMIENTO,SALARIO,JORNADA) VALUES 
(1,'709870123','ANA','CASTRO','PEREZ','F','VENDEDOR','8797-7896',DATE '1999-06-01',300000,'TIEMPO COMPLETO');

INSERT INTO EMPLEADO(ID_EMPLEADO,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,GENERO,PUESTO,NUMERO_TELEFONO,FECHA_NACIMIENTO,SALARIO,JORNADA) 
VALUES (2,'456789012','JUAN','GONZALEZ','LOPEZ','M','VENDEDOR','8899-7788',DATE '1985-03-15',450000,'TIEMPO COMPLETO');

INSERT INTO EMPLEADO(ID_EMPLEADO,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,GENERO,PUESTO,NUMERO_TELEFONO,FECHA_NACIMIENTO,SALARIO,JORNADA) 
VALUES (3,'987654321','MARIA','RODRIGUEZ','MARTINEZ','F','VENDEDOR','7766-6655',DATE '1980-12-10',700000,'TIEMPO COMPLETO');

INSERT INTO EMPLEADO(ID_EMPLEADO,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,GENERO,PUESTO,NUMERO_TELEFONO,FECHA_NACIMIENTO,SALARIO,JORNADA) 
VALUES (4,'123456789','PEDRO','PEREZ','FERNANDEZ','M','VENDEDOR','8655-5544',DATE '1992-08-20',550000,'TIEMPO COMPLETO');

INSERT INTO EMPLEADO(ID_EMPLEADO,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,GENERO,PUESTO,NUMERO_TELEFONO,FECHA_NACIMIENTO,SALARIO,JORNADA) 
VALUES (5,'876543210','LAURA','GARCIA','RAMIREZ','F','VENDEDOR','8544-4433',DATE '1995-11-05',350000,'MEDIO TIEMPO');

INSERT INTO EMPLEADO(ID_EMPLEADO,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,GENERO,PUESTO,NUMERO_TELEFONO,FECHA_NACIMIENTO,SALARIO,JORNADA) 
VALUES (6,'567890123','CARLOS','LUNA','CRUZ','M','VENDEDOR','8433-3322',DATE '1988-04-25',320000,'MEDIO TIEMPO');

INSERT INTO EMPLEADO(ID_EMPLEADO,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,GENERO,PUESTO,NUMERO_TELEFONO,FECHA_NACIMIENTO,SALARIO,JORNADA) 
VALUES (7,'234567890','SOFIA','FERNANDEZ','LOPEZ','F','VENDEDOR','8322-2211',DATE '1996-09-12',380000,'TIEMPO COMPLETO');

INSERT INTO EMPLEADO(ID_EMPLEADO,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,GENERO,PUESTO,NUMERO_TELEFONO,FECHA_NACIMIENTO,SALARIO,JORNADA) 
VALUES (8,'098765432','MATEO','PEREZ','MARTINEZ','M','VENDEDOR','8211-1100',DATE '1990-07-18',600000,'TIEMPO COMPLETO');

INSERT INTO EMPLEADO(ID_EMPLEADO,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,GENERO,PUESTO,NUMERO_TELEFONO,FECHA_NACIMIENTO,SALARIO,JORNADA) 
VALUES (9,'765432109','PAULA','RODRIGUEZ','GONZALEZ','F','GERENTE','8100-0099',DATE '1983-02-28',720000,'TIEMPO COMPLETO');

INSERT INTO EMPLEADO(ID_EMPLEADO,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,GENERO,PUESTO,NUMERO_TELEFONO,FECHA_NACIMIENTO,SALARIO,JORNADA) 
VALUES (10,'321098765','DAVID','MARTINEZ','SANCHEZ','M','VENDEDOR','8099-9988',DATE '1978-05-30',500000,'TIEMPO COMPLETO');

--SE SELECCIONA LA TABLA EMPLEADO.
SELECT * FROM EMPLEADO

#######################################
# CREACIÓN DE LA TABLA PROVEEDOR      #
#######################################

CREATE TABLE PROVEEDOR(
ID_PROVEEDOR NUMBER(15) CONSTRAINT PK_ID_PROVEEDOR PRIMARY KEY, -- SE DETERMINA COMO PRIMARY KEY.
CEDULA VARCHAR2(20),
NOMBRE VARCHAR2(20),
APELLIDO1 VARCHAR2(20),
APELLIDO2 VARCHAR2(20),
NUMERO_TELEFONO VARCHAR2(20),
EMPRESA VARCHAR2(20)
)

--- SE DETERMINA UN UNIQUE CONSTRAINT.
ALTER TABLE PROVEEDOR
ADD CONSTRAINT UK_CEDULA_PROVEEDOR UNIQUE (CEDULA) 


---- INSERTANDO DATOS EN LA TABLA PROVEEDOR.
INSERT INTO PROVEEDOR (ID_PROVEEDOR,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,NUMERO_TELEFONO,EMPRESA)
VALUES (1,'504620579','WALTER','ESPINOZA','AMADOR','64899409','AGROZARCAS');

INSERT INTO PROVEEDOR (ID_PROVEEDOR,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,NUMERO_TELEFONO,EMPRESA)
VALUES (2,'204460908','MISAEL','LOPES','FERNANDEZ','69895507','COLONO');

INSERT INTO PROVEEDOR (ID_PROVEEDOR,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,NUMERO_TELEFONO,EMPRESA)
VALUES (3,'203320075','CARLOS','SOLANO','GUTIERRES','70899054','AGROLOGOS');

INSERT INTO PROVEEDOR (ID_PROVEEDOR,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,NUMERO_TELEFONO,EMPRESA)
VALUES (4,'200990211','KARLA','SANDOBAL','PEREZ','88984533','VITAPET');

INSERT INTO PROVEEDOR (ID_PROVEEDOR,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,NUMERO_TELEFONO,EMPRESA)
VALUES (5,'405530876','SOFIA','MENDES','VARGAS','81187667','OKOBA');

INSERT INTO PROVEEDOR (ID_PROVEEDOR,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,NUMERO_TELEFONO,EMPRESA)
VALUES (6,'109980112','FRANKLIN','VEGA','ORTIZ','78675432','VETPETHOME');

INSERT INTO PROVEEDOR (ID_PROVEEDOR,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,NUMERO_TELEFONO,EMPRESA)
VALUES (7,'109020144','ALEX','VILLEGAS','CRUZ','55094532','BALOO PET FOOD');

INSERT INTO PROVEEDOR (ID_PROVEEDOR,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,NUMERO_TELEFONO,EMPRESA)
VALUES (8,'202260954','MARIANA','CHAVARRIA','MORA','78665534','WAUMART');

INSERT INTO PROVEEDOR (ID_PROVEEDOR,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,NUMERO_TELEFONO,EMPRESA)
VALUES (9,'709760231','SANDRA','MONGE','RODRIGUES','64522131','MASKOTAS');

INSERT INTO PROVEEDOR (ID_PROVEEDOR,CEDULA,NOMBRE,APELLIDO1,APELLIDO2,NUMERO_TELEFONO,EMPRESA)
VALUES (10,'202290876','ALFREDO','VARGAS','VEGA','89786542','AGUAPET');

--SE SELECCIONA LA TABLA PROVEEDOR.
SELECT * FROM PROVEEDOR

#######################################
# CREACIÓN DE LA TABLA PRODUCTO       #
#######################################
   
CREATE TABLE PRODUCTO(
ID_PRODUCTO NUMBER(15) CONSTRAINT PK_ID_PRODUCTO PRIMARY KEY, -- SE DETERMINA COMO PRIMARY KEY. 
NOMBRE VARCHAR2(20),
PRECIO NUMBER(15,2),
TAMANNO VARCHAR2(20)
)

 --- SE DETERMINA COMO FOREING KEY.
ALTER TABLE PRODUCTO 
ADD CONSTRAINT FK_PRODUCTO_PROVEEDOR FOREIGN KEY (ID_PROVEEDOR) 
REFERENCES PROVEEDOR(ID_PROVEEDOR);

--SE DETERMINA QUE HACIA FALTA LA RELACIÓN PRODUCTO-PROVEEDOR. 
ALTER TABLE PRODUCTO +
ADD ID_PROVEEDOR NUMBER(15); -- SE AGREGA EL CAMPO ID_PROVEEDOR.

--SE REALIZA LA INSERCIÓN DE LOS PROVEEDORES DE CADA UNO DE LOS PRODUCTOS UTILIZANDO EL SIGUIENTE SCRIPT PARA CADA UNO.
UPDATE PRODUCTO
SET ID_PROVEEDOR = 10
WHERE ID_PRODUCTO = 10;


---- INSERTANDO DATOS DE PRODUCTO.
INSERT INTO PRODUCTO(ID_PRODUCTO,NOMBRE,PRECIO,TAMANNO) VALUES
(1,'BALANCE CACHORO',1500,'1 KILO');

INSERT INTO PRODUCTO(ID_PRODUCTO,NOMBRE,PRECIO,TAMANNO) VALUES
(2,'CAT CHOW',1800,'2 KILOS');

INSERT INTO PRODUCTO(ID_PRODUCTO,NOMBRE,PRECIO,TAMANNO) VALUES
(3,'MAXI DOG ADULTO',1600,'1.5 KILOS');

INSERT INTO PRODUCTO(ID_PRODUCTO,NOMBRE,PRECIO,TAMANNO) VALUES
(4,'MAXI DOG CACHORRO',2000,'3 KILOS');

INSERT INTO PRODUCTO(ID_PRODUCTO,NOMBRE,PRECIO,TAMANNO) VALUES
(5,'SUPER PERRO SMALL',1200,'800 GRAMOS');

INSERT INTO PRODUCTO(ID_PRODUCTO,NOMBRE,PRECIO,TAMANNO) VALUES
(6,'MAIZ QUEBRADO',1000,'500 GRAMOS');

INSERT INTO PRODUCTO(ID_PRODUCTO,NOMBRE,PRECIO,TAMANNO) VALUES
(7,'NUTRISOURCE CHICKEN',1500,'1 KILO');

INSERT INTO PRODUCTO(ID_PRODUCTO,NOMBRE,PRECIO,TAMANNO) VALUES
(8,'SEMILLA GIRASOL',1400,'900 GRAMOS');

INSERT INTO PRODUCTO(ID_PRODUCTO,NOMBRE,PRECIO,TAMANNO) VALUES
(9,'PRO-CAN ADULTO',2200,'5 KILOS');

INSERT INTO PRODUCTO(ID_PRODUCTO,NOMBRE,PRECIO,TAMANNO) VALUES
(10,'PROPET ADULTO',1600,'1.5 KILOS');

--SE SELECCIONA LA TABLA PRODUCTO.
SELECT * FROM PRODUCTO

#######################################
# CREACIÓN DE LA TABLA INVENTARIO     #
#######################################

CREATE TABLE INVENTARIO(
ID_PRODUCTO NUMBER(15),
CANTIDAD_ENTRADA NUMBER(15),
CANTIDAD_SALIDA NUMBER(15),
CANTIDAD_STOCK NUMBER(15),
FECHA_ACTUALIZACION DATE
)

--SE DETERMINA COMO FOREING KEY.
ALTER TABLE INVENTARIO ADD CONSTRAINT 
FK_INVENTARIO_PRODUCTO FOREIGN KEY(ID_PRODUCTO)
REFERENCES PRODUCTO(ID_PRODUCTO)

--- INSERTANDO DATOS A LA TABLA PRODUCTO.
INSERT INTO INVENTARIO(ID_PRODUCTO,CANTIDAD_ENTRADA,CANTIDAD_SALIDA,CANTIDAD_STOCK,FECHA_ACTUALIZACION) VALUES
(1,20,17,3, DATE '2015-02-12');

INSERT INTO INVENTARIO(ID_PRODUCTO,CANTIDAD_ENTRADA,CANTIDAD_SALIDA,CANTIDAD_STOCK,FECHA_ACTUALIZACION) VALUES
(2,50,40,10, DATE '2017-04-18');

INSERT INTO INVENTARIO(ID_PRODUCTO,CANTIDAD_ENTRADA,CANTIDAD_SALIDA,CANTIDAD_STOCK,FECHA_ACTUALIZACION) VALUES
(3,15,11,4, DATE '2018-03-11');

INSERT INTO INVENTARIO(ID_PRODUCTO,CANTIDAD_ENTRADA,CANTIDAD_SALIDA,CANTIDAD_STOCK,FECHA_ACTUALIZACION) VALUES
(4,100,80,20, DATE '2018-09-12');

INSERT INTO INVENTARIO(ID_PRODUCTO,CANTIDAD_ENTRADA,CANTIDAD_SALIDA,CANTIDAD_STOCK,FECHA_ACTUALIZACION) VALUES
(5,10,8,2, DATE '2019-11-16');

INSERT INTO INVENTARIO(ID_PRODUCTO,CANTIDAD_ENTRADA,CANTIDAD_SALIDA,CANTIDAD_STOCK,FECHA_ACTUALIZACION) VALUES
(6,150,146,4, DATE '2019-02-10');

INSERT INTO INVENTARIO(ID_PRODUCTO,CANTIDAD_ENTRADA,CANTIDAD_SALIDA,CANTIDAD_STOCK,FECHA_ACTUALIZACION) VALUES
(7,5,4,1, DATE '2019-11-12');

INSERT INTO INVENTARIO(ID_PRODUCTO,CANTIDAD_ENTRADA,CANTIDAD_SALIDA,CANTIDAD_STOCK,FECHA_ACTUALIZACION) VALUES
(8,150,100,50, DATE '2020-08-08');

INSERT INTO INVENTARIO(ID_PRODUCTO,CANTIDAD_ENTRADA,CANTIDAD_SALIDA,CANTIDAD_STOCK,FECHA_ACTUALIZACION) VALUES
(9,50,25,25, DATE '2022-10-31');

INSERT INTO INVENTARIO(ID_PRODUCTO,CANTIDAD_ENTRADA,CANTIDAD_SALIDA,CANTIDAD_STOCK,FECHA_ACTUALIZACION) VALUES
(10,70,60,10, DATE '2024-12-25');


##########################################
# CREACIÓN DE LA TABLA PEDIDO_PROVEEDOR  #
##########################################

CREATE TABLE PEDIDO_PROVEEDOR(
ID_PEDIDO NUMBER(15) CONSTRAINT PK_ID_PEDIDO PRIMARY KEY,
ID_PROVEEDOR NUMBER(15),
ID_PRODUCTO NUMBER(15),
CANTIDAD NUMBER(15),
PRECIO_UNITARIO NUMBER(15),
FECHA_PEDIDO DATE
)

--SE DETERMINA COMO FOREING KEY.
ALTER TABLE PEDIDO_PROVEEDOR ADD CONSTRAINT
FK_PEDIDO_PROVEEDOR_PROVEEDOR FOREIGN KEY(ID_PROVEEDOR)
REFERENCES PROVEEDOR(ID_PROVEEDOR)

--SE DETERMINA COMO FOREING KEY.
ALTER TABLE PEDIDO_PROVEEDOR ADD CONSTRAINT
FK_PEDIDO_PROVEEDOR_PRODUCTO FOREIGN KEY(ID_PRODUCTO)
REFERENCES PRODUCTO(ID_PRODUCTO)



--- INSRTANDO DATOS A LA TABLA PEDIDO_PROVEEDOR.
INSERT INTO PEDIDO_PROVEEDOR(ID_PEDIDO,ID_PROVEEDOR,ID_PRODUCTO,CANTIDAD,PRECIO_UNITARIO,FECHA_PEDIDO) VALUES
(1,1,1,5,1000,DATE '2024-03-27');

INSERT INTO PEDIDO_PROVEEDOR(ID_PEDIDO,ID_PROVEEDOR,ID_PRODUCTO,CANTIDAD,PRECIO_UNITARIO,FECHA_PEDIDO) VALUES
(2,1,1,10,10000,DATE '2024-02-27');

INSERT INTO PEDIDO_PROVEEDOR(ID_PEDIDO,ID_PROVEEDOR,ID_PRODUCTO,CANTIDAD,PRECIO_UNITARIO,FECHA_PEDIDO) VALUES
(3,1,1,12,3750,DATE '2024-02-27');

INSERT INTO PEDIDO_PROVEEDOR(ID_PEDIDO,ID_PROVEEDOR,ID_PRODUCTO,CANTIDAD,PRECIO_UNITARIO,FECHA_PEDIDO) VALUES
(4,1,2,15,1000,DATE '2024-02-27');

INSERT INTO PEDIDO_PROVEEDOR(ID_PEDIDO,ID_PROVEEDOR,ID_PRODUCTO,CANTIDAD,PRECIO_UNITARIO,FECHA_PEDIDO) VALUES
(5,1,3,11,1000,DATE '2024-01-24');

INSERT INTO PEDIDO_PROVEEDOR(ID_PEDIDO,ID_PROVEEDOR,ID_PRODUCTO,CANTIDAD,PRECIO_UNITARIO,FECHA_PEDIDO) VALUES
(6,2,4,5,15000,DATE '2024-03-11');

INSERT INTO PEDIDO_PROVEEDOR(ID_PEDIDO,ID_PROVEEDOR,ID_PRODUCTO,CANTIDAD,PRECIO_UNITARIO,FECHA_PEDIDO) VALUES
(7,3,8,5,20000,DATE '2024-03-11'); 

INSERT INTO PEDIDO_PROVEEDOR(ID_PEDIDO,ID_PROVEEDOR,ID_PRODUCTO,CANTIDAD,PRECIO_UNITARIO,FECHA_PEDIDO) VALUES
(8,3,5,5,20000,DATE '2024-02-03');

INSERT INTO PEDIDO_PROVEEDOR(ID_PEDIDO,ID_PROVEEDOR,ID_PRODUCTO,CANTIDAD,PRECIO_UNITARIO,FECHA_PEDIDO) VALUES
(9,5,9,5,10000,DATE '2024-01-03');

INSERT INTO PEDIDO_PROVEEDOR(ID_PEDIDO,ID_PROVEEDOR,ID_PRODUCTO,CANTIDAD,PRECIO_UNITARIO,FECHA_PEDIDO) VALUES
(10,10,6,2,1000,DATE '2024-01-03');


--SE SELECCIONA LA TABLA PEDIDO_PROVEEDOR.
SELECT * FROM PEDIDO_PROVEEDOR


##########################################
# CREACIÓN DE LA TABLA PAGO_PROVEEDOR    #
##########################################

CREATE TABLE PAGO_PROVEEDOR(
ID_PAGO_PROVEEDOR NUMBER (15) CONSTRAINT PK_ID_PAGO_PROVEEDOR PRIMARY KEY, -- SE ESTABLECE COMO PRIMARY KEY.
ID_PEDIDO NUMBER(15),
MONTO_TOTAL NUMBER(15,2),
ESTADO VARCHAR2(20),
FECHA_PAGO DATE
)

---- ESTABLECE UNA RESTRICCIÓN EN ESTADO, SOLO SE PERMITE DOS OPCIONES (CANCELADO/ PENDIENTE).
ALTER TABLE PAGO_PROVEEDOR ADD CONSTRAINT CK_ESTADO
CHECK (ESTADO IN ('CANCELADO', 'PENDIENTE'))


--SE DETERMINA COMO FOREING KEY.
ALTER TABLE PAGO_PROVEEDOR ADD CONSTRAINT
FK_PAGO_PEDIDO_PROVEEDOR FOREIGN KEY(ID_PEDIDO)
REFERENCES PEDIDO_PROVEEDOR(ID_PEDIDO)

--- INSERTANDO DATOS A LA TABLA DE PAGO_PROVEEDOR.
INSERT INTO PAGO_PROVEEDOR(ID_PAGO_PROVEEDOR,ID_PEDIDO,MONTO_TOTAL,ESTADO,FECHA_PAGO)VALUES
(1,1,5000,'CANCELADO',DATE '2015-10-10');

INSERT INTO PAGO_PROVEEDOR(ID_PAGO_PROVEEDOR,ID_PEDIDO,MONTO_TOTAL,ESTADO,FECHA_PAGO)VALUES
(2,2,100000,'CANCELADO',DATE '2024-02-27');

INSERT INTO PAGO_PROVEEDOR(ID_PAGO_PROVEEDOR,ID_PEDIDO,MONTO_TOTAL,ESTADO,FECHA_PAGO)VALUES
(3,3,45000,'PENDIENTE',DATE '2024-02-27');

INSERT INTO PAGO_PROVEEDOR(ID_PAGO_PROVEEDOR,ID_PEDIDO,MONTO_TOTAL,ESTADO,FECHA_PAGO)VALUES
(4,4,150000,'PENDIENTE',DATE '2024-02-27');

INSERT INTO PAGO_PROVEEDOR(ID_PAGO_PROVEEDOR,ID_PEDIDO,MONTO_TOTAL,ESTADO,FECHA_PAGO)VALUES
(5,5,11000,'CANCELADO',DATE '2024-01-24');

INSERT INTO PAGO_PROVEEDOR(ID_PAGO_PROVEEDOR,ID_PEDIDO,MONTO_TOTAL,ESTADO,FECHA_PAGO)VALUES
(6,6,75000,'PENDIENTE',DATE '2024-03-11');

INSERT INTO PAGO_PROVEEDOR(ID_PAGO_PROVEEDOR,ID_PEDIDO,MONTO_TOTAL,ESTADO,FECHA_PAGO)VALUES
(7,7,200000,'CANCELADO',DATE '2024-03-11');

INSERT INTO PAGO_PROVEEDOR(ID_PAGO_PROVEEDOR,ID_PEDIDO,MONTO_TOTAL,ESTADO,FECHA_PAGO)VALUES
(8,8,100000,'PENDIENTE',DATE '2024-02-03');

INSERT INTO PAGO_PROVEEDOR(ID_PAGO_PROVEEDOR,ID_PEDIDO,MONTO_TOTAL,ESTADO,FECHA_PAGO)VALUES
(9,9,50000,'CANCELADO',DATE '2024-01-03');

INSERT INTO PAGO_PROVEEDOR(ID_PAGO_PROVEEDOR,ID_PEDIDO,MONTO_TOTAL,ESTADO,FECHA_PAGO)VALUES
(10,10,2000,'PENDIENTE',DATE '2024-01-03');

-- SE HACE UNA MODIFICACION, CAMBIANDO LA FECHA DE UN DATO REGISTRADO.
UPDATE PAGO_PROVEEDOR 
SET FECHA_PAGO = TO_DATE('2024-03-27', 'YYYY-MM-DD')
WHERE ID_PAGO_PROVEEDOR = 1;

-- SE SELECCIONA LA TABLA PAGO_PROVEEDOR.
SELECT * FROM PAGO_PROVEEDOR

##########################################
# CREACIÓN DE LA TABLA VENTA_CLIENTE     #
##########################################

CREATE TABLE VENTA_CLIENTE(
ID_VENTA NUMBER(15) CONSTRAINT PK_ID_VENTA PRIMARY KEY, --SE ESTABLECE COMO PRIMARY KEY.
ID_CLIENTE NUMBER(15),
ID_EMPLEADO NUMBER(15),
ID_PRODUCTO NUMBER(15),
CANTIDAD NUMBER(20)
)

--SE DETERMINA COMO FOREING KEY.
ALTER TABLE VENTA_CLIENTE ADD CONSTRAINT
FK_VENTA_CLIENTE_CLIENTE FOREIGN KEY(ID_CLIENTE)
REFERENCES CLIENTE(ID_CLIENTE)

--SE DETERMINA COMO FOREING KEY.
ALTER TABLE VENTA_CLIENTE ADD CONSTRAINT
FK_VENTA_CLIENTE_EMPLEADO FOREIGN KEY(ID_EMPLEADO)
REFERENCES EMPLEADO(ID_EMPLEADO)

--SE DETERMINA COMO FOREING KEY.
ALTER TABLE VENTA_CLIENTE ADD CONSTRAINT
FK_VENTA_CLIENTE_PRODUCTO FOREIGN KEY(ID_PRODUCTO)
REFERENCES PRODUCTO(ID_PRODUCTO)


--- INSERTANDO DATOS EN LA TABLA VENTA_CLIENTE.
INSERT INTO VENTA_CLIENTE(ID_VENTA,ID_CLIENTE,ID_EMPLEADO,ID_PRODUCTO,CANTIDAD) VALUES
(1,1,2,1,2);

INSERT INTO VENTA_CLIENTE(ID_VENTA,ID_CLIENTE,ID_EMPLEADO,ID_PRODUCTO,CANTIDAD) VALUES
(2,1,2,2,8);

INSERT INTO VENTA_CLIENTE(ID_VENTA,ID_CLIENTE,ID_EMPLEADO,ID_PRODUCTO,CANTIDAD) VALUES
(3,1,2,3,1);

INSERT INTO VENTA_CLIENTE(ID_VENTA,ID_CLIENTE,ID_EMPLEADO,ID_PRODUCTO,CANTIDAD) VALUES
(4,1,1,3,2);

INSERT INTO VENTA_CLIENTE(ID_VENTA,ID_CLIENTE,ID_EMPLEADO,ID_PRODUCTO,CANTIDAD) VALUES
(5,2,5,3,1);

INSERT INTO VENTA_CLIENTE(ID_VENTA,ID_CLIENTE,ID_EMPLEADO,ID_PRODUCTO,CANTIDAD) VALUES
(6,3,5,10,5);

INSERT INTO VENTA_CLIENTE(ID_VENTA,ID_CLIENTE,ID_EMPLEADO,ID_PRODUCTO,CANTIDAD) VALUES
(7,5,4,5,2);

INSERT INTO VENTA_CLIENTE(ID_VENTA,ID_CLIENTE,ID_EMPLEADO,ID_PRODUCTO,CANTIDAD) VALUES
(8,8,8,8,40);

INSERT INTO VENTA_CLIENTE(ID_VENTA,ID_CLIENTE,ID_EMPLEADO,ID_PRODUCTO,CANTIDAD) VALUES
(9,7,9,9,20);

INSERT INTO VENTA_CLIENTE(ID_VENTA,ID_CLIENTE,ID_EMPLEADO,ID_PRODUCTO,CANTIDAD) VALUES
(10,10,10,6,3);


-- SE SELECCIONA LA TABLA VENTA_CLIENTE.
SELECT * FROM VENTA_CLIENTE

##########################################
# CREACIÓN DE LA TABLA FACTURA_CLIENTE   #
##########################################

CREATE TABLE FACTURA_CLIENTE(
NUMERO_FACTURA NUMBER(15) CONSTRAINT PK_NUMERO_FACTURA PRIMARY KEY, -- SE ESTABLECE COMO PRIMARY KEY.
ID_VENTA NUMBER(15),
ID_CLIENTE NUMBER(15),
TOTAL NUMBER(15,2),
FECHA_CREACION DATE,
ESTADO VARCHAR2(20)
)

---- ESTABLECE UNA RESTRICCIÓN EN ESTADO, SOLO SE PERMITE DOS OPCIONES (CANCELADO/ PENDIENTE).
ALTER TABLE FACTURA_CLIENTE ADD CONSTRAINT CK_ESTADO_FACTURA
CHECK (ESTADO IN ('CANCELADO', 'PENDIENTE'))

--SE DETERMINA COMO FOREING KEY.
ALTER TABLE FACTURA_CLIENTE ADD CONSTRAINT
FK_FACTURA_VENTA_CLIENTE FOREIGN KEY(ID_VENTA)
REFERENCES VENTA_CLIENTE(ID_VENTA)

--SE DETERMINA COMO FOREING KEY.
ALTER TABLE FACTURA_CLIENTE ADD CONSTRAINT
FK_FACTURA_CLIENTE_CLIENTE FOREIGN KEY(ID_CLIENTE)
REFERENCES CLIENTE(ID_CLIENTE)

--- INSERTANDO DATOS EN LA TABLA FACTURA_CLIENTE.
INSERT INTO FACTURA_CLIENTE(NUMERO_FACTURA,ID_VENTA,ID_CLIENTE,TOTAL,FECHA_CREACION,ESTADO)VALUES
(1,1,1,3000,DATE '2024-03-21','CANCELADO');

INSERT INTO FACTURA_CLIENTE(NUMERO_FACTURA,ID_VENTA,ID_CLIENTE,TOTAL,FECHA_CREACION,ESTADO)VALUES
(2,2,1,14400,DATE '2024-03-22','CANCELADO');

INSERT INTO FACTURA_CLIENTE(NUMERO_FACTURA,ID_VENTA,ID_CLIENTE,TOTAL,FECHA_CREACION,ESTADO)VALUES
(3,3,1,1600,DATE '2024-03-23','CANCELADO');

INSERT INTO FACTURA_CLIENTE(NUMERO_FACTURA,ID_VENTA,ID_CLIENTE,TOTAL,FECHA_CREACION,ESTADO)VALUES
(4,4,1,3200,DATE '2024-03-24','CANCELADO');

INSERT INTO FACTURA_CLIENTE(NUMERO_FACTURA,ID_VENTA,ID_CLIENTE,TOTAL,FECHA_CREACION,ESTADO)VALUES
(5,5,2,1600,DATE '2024-03-27','CANCELADO');

INSERT INTO FACTURA_CLIENTE(NUMERO_FACTURA,ID_VENTA,ID_CLIENTE,TOTAL,FECHA_CREACION,ESTADO)VALUES
(6,6,3,8000,DATE '2024-03-27','PENDIENTE');

INSERT INTO FACTURA_CLIENTE(NUMERO_FACTURA,ID_VENTA,ID_CLIENTE,TOTAL,FECHA_CREACION,ESTADO)VALUES
(7,7,5,2400,DATE '2024-03-27','PENDIENTE');

INSERT INTO FACTURA_CLIENTE(NUMERO_FACTURA,ID_VENTA,ID_CLIENTE,TOTAL,FECHA_CREACION,ESTADO)VALUES
(8,8,8,56000,DATE '2024-03-27','PENDIENTE');

INSERT INTO FACTURA_CLIENTE(NUMERO_FACTURA,ID_VENTA,ID_CLIENTE,TOTAL,FECHA_CREACION,ESTADO)VALUES
(9,9,7,44000,DATE '2024-03-28','PENDIENTE');

INSERT INTO FACTURA_CLIENTE(NUMERO_FACTURA,ID_VENTA,ID_CLIENTE,TOTAL,FECHA_CREACION,ESTADO)VALUES
(10,10,10,3000,DATE '2024-03-28','PENDIENTE');

-SE SELECCIONA LA TABLA FACTURA_CLIENTE.
SELECT * FROM FACTURA_CLIENTE

##########################################
# CREACIÓN DE LA TABLA PAGO_CLIENTE      #
##########################################

CREATE TABLE PAGO_CLIENTE(
ID_PAGO NUMBER(15) CONSTRAINT PK_ID_PAGO PRIMARY KEY, -- SE ESTABLECE COMO PRIMARY KEY.
NUMERO_FACTURA NUMBER(15),
METODO_PAGO VARCHAR2(20),
FECHA_PAGO DATE
)


--SE DETERMINA COMO FOREING KEY.
ALTER TABLE PAGO_CLIENTE ADD CONSTRAINT
FK_PAGO_FACTURA_CLIENTE FOREIGN KEY(NUMERO_FACTURA)
REFERENCES FACTURA_CLIENTE(NUMERO_FACTURA)


--- INSERTANDO DATOS EN LA TABLA PAGO_CLIENTE.
INSERT INTO PAGO_CLIENTE(ID_PAGO,NUMERO_FACTURA,METODO_PAGO,FECHA_PAGO)VALUES
(1,1,'EFECTIVO',DATE '2024-03-21');

INSERT INTO PAGO_CLIENTE(ID_PAGO,NUMERO_FACTURA,METODO_PAGO,FECHA_PAGO)VALUES
(2,2,'TARJETA',DATE '2024-03-22');

INSERT INTO PAGO_CLIENTE(ID_PAGO,NUMERO_FACTURA,METODO_PAGO,FECHA_PAGO)VALUES
(3,3,'EFECTIVO',DATE '2024-03-23');

INSERT INTO PAGO_CLIENTE(ID_PAGO,NUMERO_FACTURA,METODO_PAGO,FECHA_PAGO)VALUES
(4,4,'DEPOSITO',DATE '2024-03-25');

INSERT INTO PAGO_CLIENTE(ID_PAGO,NUMERO_FACTURA,METODO_PAGO,FECHA_PAGO)VALUES
(5,5,'TARJETA',DATE '2024-03-27');

SE SELECCIONA LA TABLA PAGO_CLIENTE.
SELECT * FROM PAGO_CLIENTE 

=============================================================================================
                                  #########################                                 
                                  #  CODIGO ADICIONAL     #                                 
                                  #########################                                 
                                                                                            
SELECT CONSTRAINT_NAME --- CONSULTA LOS CONSTRAINT QUE CONTIENE                             
FROM ALL_CONSTRAINTS                                                                         
WHERE TABLE_NAME = 'CLIENTE';                                                               
                                                                                            
SELECT CONSTRAINT_NAME --- CONSULTA LOS CONSTRAINT QUE CONTIENE                             
FROM ALL_CONSTRAINTS                                                                        
WHERE TABLE_NAME = 'EMPLEADO';                                                              
                                                                                            
SELECT CONSTRAINT_NAME --- CONSULTA LOS CONSTRAINT QUE CONTIENE                             
FROM ALL_CONSTRAINTS                                                                         
WHERE TABLE_NAME =  'FACTURA_CLIENTE';                                                      
                                                                                                                                                                                       
SELECT CONSTRAINT_NAME --- CONSULTA LOS CONSTRAINT QUE CONTIENE                             
FROM ALL_CONSTRAINTS                                                                         
WHERE TABLE_NAME = 'INVENTARIO';                                                            
                                                                                            
SELECT CONSTRAINT_NAME --- CONSULTA LOS CONSTRAINT QUE CONTIENE                             
FROM ALL_CONSTRAINTS                                                                         
WHERE TABLE_NAME = 'PAGO_CLIENTE';                                                          
                                                                                            
SELECT CONSTRAINT_NAME --- CONSULTA LOS CONSTRAINT QUE CONTIENE                             
FROM ALL_CONSTRAINTS                                                                         
WHERE TABLE_NAME =  'PAGO_PROVEEDOR';                                                       
                                                                                            
SELECT CONSTRAINT_NAME --- CONSULTA LOS CONSTRAINT QUE CONTIENE                             
FROM ALL_CONSTRAINTS                                                                        
WHERE TABLE_NAME =  'PEDIDO_PROVEEDOR';                                                     
                                                                                            
SELECT CONSTRAINT_NAME --- CONSULTA LOS CONSTRAINT QUE CONTIENE                             
FROM ALL_CONSTRAINTS                                                                         
WHERE TABLE_NAME = 'PRODUCTO'; 

SELECT CONSTRAINT_NAME
FROM ALL_CONSTRAINTS
WHERE TABLE_NAME = 'PRODUCTO';
                                                                                            
SELECT CONSTRAINT_NAME --- CONSULTA LOS CONSTRAINT QUE CONTIENE                             
FROM ALL_CONSTRAINTS                                                                         
WHERE TABLE_NAME =  'PROVEEDOR';                                                            
                                                                                            
SELECT CONSTRAINT_NAME --- CONSULTA LOS CONSTRAINT QUE CONTIENE                             
FROM ALL_CONSTRAINTS                                                                         
WHERE TABLE_NAME =  'VENTA_CLIENTE';                                                        
                                                                                            
=============================================================================================

COMMIT;